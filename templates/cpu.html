{% load static %}
<html>

<head>
	<!-- LINE Tag Base Code -->
	<!-- Do Not Modify -->
	<script>
		(function (g, d, o) {
			g._ltq = g._ltq || []; g._lt = g._lt || function () { g._ltq.push(arguments) };
			var h = location.protocol === 'https:' ? 'https://d.line-scdn.net' : 'http://d.line-cdn.net';
			var s = d.createElement('script'); s.async = 1;
			s.src = o || h + '/n/line_tag/public/release/v1/lt.js';
			var t = d.getElementsByTagName('script')[0]; t.parentNode.insertBefore(s, t);
		})(window, document);
		_lt('init', {
			customerType: 'account',
			tagId: 'c9120633-6601-4f3d-95bc-b53858d0458a'
		});
		_lt('send', 'pv', ['c9120633-6601-4f3d-95bc-b53858d0458a']);
	</script>
	<noscript>
		<img height="1" width="1" style="display:none"
			src="https://tr.line.me/tag.gif?c_t=lap&t_id=c9120633-6601-4f3d-95bc-b53858d0458a&e=pv&noscript=1" />
	</noscript>
	<!-- End LINE Tag Base Code -->

	<link rel="stylesheet" href="{% static 'cpu.css' %}">
	<meta charset="utf-8">
	<title>電腦報價幫手</title>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"
		integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
</head>

<body>
	<div class="login">
		<div class="but">
			<div class="login1">
				<input type="button" class="login" value="查詢"
					onclick="location.href='https://www.wibibi.com/info.php?tid=117'" />
			</div>
			<div class="signup">
				<input type="button" value="Sign Up">
			</div>
		</div>
	</div>
	<div class="as">
		{% if messages %}
		{% for message in messages%}
		<div class="messages" id="messages">
			{{ message }}
		</div>
		{% endfor %}
		{% endif %}
	</div>

	<div class="center">
		<div class="h1">
			<a href="/" target="_self" style="text-decoration:none" title="電腦報價幫手">電腦報價幫手</a>
		</div>

		<form method='POST'>
			{% csrf_token %}
			搜尋：{{ Filter_all.form.name_all }}
			<input type="submit" class="btn btn-primary" value="查詢" /><br />
		</form>


	</div>


	<div class="list">
		<a class="box box1" href="http://127.0.0.1:8000/cpu/">CPU</a>
		<a class="box box2" href="MB.html">主機板</a>
		<a class="box box3" href="/ssd">SSD</a>
		<a class="box box4" href="hdd.html">HDD</a>
		<a class="box box5" href="VGA.html">顯示卡</a>
		<a class="box box6" href="Memory.html">記憶體</a>
		<a class="box box7" href="Power.html">電源供應器</a>
		<a class="box box8" href="chassis.html">機殼</a>
	</div>


	<form method='POST'> {% csrf_token %}
		廠商：{{ aFilter.form.vendor }}
		名稱：{{ aFilter.form.name }}
		價格：{{ aFilter.form.price }}
		<input type="submit" class="btn btn-primary" value="查詢" /><br />
	</form>
	{% if aFilter.qs|length >= 1 and Filter_all.qs|length == 1651 %}
	<table class="table" width="100%" border="1" cellpadding="0" cellspzcing="0">

		<th>商品名稱</th>
		<th>廠商</th>
		<th>商品圖片</th>
		<th>詳細資訊</th>
		<th>核心數量</th>
		<th>傳輸速度</th>
		<th>價格</th>
		<th>購買連結</th>
		<th>加入購物車</th>

		<h1>共有{{aFilter.qs|length}}筆資料</h1>
		{% for cpu in aFilter.qs %}
		<tr>

			<td>{{ cpu.name }}</td>
			<td>{{ cpu.vendor }}</td>
			<td><img src="{{cpu.pc_images}}" width="150" height="150"></td>
			<td>{{ cpu.commodity }}</td>
			<td align="center">{{ cpu.chip }}</td>
			<td align="center">{{ cpu.speed }}</td>
			<td>{{ cpu.price }}</td>
			<td><button onclick="window.open('{{cpu.url_list}}')">購買連結</button></td>

			<form method="post"> {% csrf_token %}
				<td><button value="{{ cpu.name }}" onclick="cart(this.value ,'{{ forloop.counter }}')"
						id="{{ forloop.counter }}" name="cart_name">加入購物車</button></td>
			</form>



		</tr>
		{% endfor %}
		{% elif aFilter.qs|length == 0 %}
		<h1>查詢無結果</h1>
		{% elif Filter_all.qs|length >= 1 and aFilter.qs|length == 62%}
		<table class="table" border="1" cellpadding="0" cellspzcing="0">
			<th>商品名稱</th>
			<th>廠商</th>
			<th>商品圖片</th>
			<th>詳細資訊</th>
			<th>價格</th>
			<th>購買連結</th>
			<th>加入購物車</th>

			<h1>共有{{Filter_all.qs|length}}筆資料</h1>
			{% for cpu in Filter_all.qs %}

			<tr>
				<td>{{ cpu.name_all }}</td>
				<td>{{ cpu.vendor }}</td>
				<td><img src="{{cpu.pc_images}}" width="150" height="150"></td>
				<td>{{ cpu.commodity }}</td>
				<td>{{ cpu.price }}</td>
				<td><input type="button" value="前往購買" onclick="window.open('{{cpu.url_list}}')"></td>
				<form method="post"> {% csrf_token %}
					<td><button value="{{ cpu.name_all }}" onclick="cart(this.value ,'{{ forloop.counter }}')"
							id="{{ forloop.counter }}" name="cart_name">加入購物車</button></td>
				</form>

			</tr>

			{% endfor %}
			{% else %}
			<h1>查詢無結果</h1>
			{% endif %}


			{% csrf_token %}
			<script>

				function cart(value1, id) {


					var msg = "確定將🡺 " + value1 + " 🡸加入購物車?";
					if (confirm(msg) == true) {
						alert("成功");
					}
					else {
						document.getElementById(id).value = 'NO'
						alert("取消");
					}
				} 
			</script>
			<script>
				$(document).ready(function () {
					// messages timeout for 10 sec
					setTimeout(function () {
						$('.messages').fadeOut('slow');
					}, 2000); // <-- time in milliseconds, 1000 =  1 sec
				});
			</script>
</body>
</table>

</html>